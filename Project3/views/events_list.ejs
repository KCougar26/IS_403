<%- include("layout", { body: `
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>Events</h2>
  <a href="/events/add" class="btn btn-success">+ Add Event</a>
</div>

<table class="table table-striped shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Competition ID</th>
      <th>Title</th>
      <th>Start</th>
      <th>End</th>
      <th>Rounds</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    ${events.map(e => `
    <tr>
      <td>${e.Event_ID}</td>
      <td>${e.Competition_ID || '-'}</td>
      <td>${e.Title}</td>
      <td>${e.Start_date_time ? new Date(e.Start_date_time).toLocaleString() : '-'}</td>
      <td>${e.End_date_time ? new Date(e.End_date_time).toLocaleString() : '-'}</td>
      <td>${e.Rounds || '-'}</td>
      <td>
        <a href="/events/edit/${e.Event_ID}" class="btn btn-sm btn-warning">Edit</a>
        <a href="/events/delete/${e.Event_ID}" class="btn btn-sm btn-danger" onclick="return confirm('Delete this event?')">Delete</a>
      </td>
    </tr>`).join('')}
  </tbody>
</table>
` }) %>