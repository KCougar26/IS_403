<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ballroom Events</title>
  
  <link rel="stylesheet" href="/styles.css"> 
</head>
<body class="ballroom-bg-management">
    
  <nav class="navbar">
    <div class="navbar-brand">Ballroom Admin</div>
    <div class="navbar-nav">
      <a class="nav-link" href="/users">Users</a>
      <a class="nav-link" href="/competitions">Competitions</a>
      <a class="nav-link" href="/events">Events</a>
      <a class="nav-link" href="/logout">Logout</a>
    </div>
  </nav>

  <main class="page-content-wrapper">

    <div class="page-header-container">
      <h1 class="page-title">Events</h1>
      
      <a href="/events/add" class="view-btn add-btn-custom">+ Add Event</a>
    </div>

    <div class="table-container">

      <table class="styled-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Competition ID</th>
            <th>Title</th>
            <th>Start</th>
            <th>End</th>
            <th>Rounds</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        <% events.forEach(e => { %>
          <tr>
            <td><%= e.event_id %></td>
            <td><%= e.competition_id || '-' %></td>
            <td><%= e.title %></td>
            <td><%= e.start_date_time ? new Date(e.start_date_time).toLocaleString() : '-' %></td>
            <td><%= e.end_date_time ? new Date(e.end_date_time).toLocaleString() : '-' %></td>
            <td><%= e.rounds || '-' %></td>
            <td>
              <a href="/events/edit/<%= e.event_id %>" class="action-btn btn-edit">Edit</a>
              <a href="/events/delete/<%= e.event_id %>" class="action-btn btn-delete" onclick="return confirm('Delete this event?')">Delete</a>
            </td>
          </tr>
        <% }) %>
      </tbody>
      </table>
    </div> </main>
</body>
</html>