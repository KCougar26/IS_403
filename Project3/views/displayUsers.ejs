<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Registered Users</title>
  
  <link rel="stylesheet" href="/styles.css"> 
</head>
<body class="ballroom-bg-management">
    
  <nav class="navbar">
    <div class="navbar-brand">Ballroom Admin</div>
    <div class="navbar-nav">
      <a class="nav-link" href="/users">Users</a>
      <a class="nav-link" href="/competitions">Competitions</a>
      <a class="nav-link" href="/events">Events</a>
      <a class="nav-link" href="/logout">Logout</a>
    </div>
  </nav>

  <main class="page-content-wrapper">

    <div class="page-header-container">
      <h1 class="page-title">Registered Users</h1>
      
      <a href="/users/add" class="view-btn add-btn-custom">+ Add User</a>
    </div>

    <% if (users.length === 0) { %>
      <div class="frosted-form-card" style="max-width: 600px; margin: 0 auto; padding: 20px;">
        <p style="color: #FFD700; text-align: center; font-weight: bold;">No users found.</p>
      </div>
    <% } else { %>
      <div class="table-container">

        <table class="styled-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Username</th>
              <th>Phone</th>
              <th>Birthday</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% users.forEach(user => { %>
              <tr>
                <td><%= user.user_id %></td>
                <td><%= user.first_name %> <%= user.last_name %></td>
                <td><%= user.username %></td>
                <td><%= user.phone_number || 'N/A' %></td>
                <td><%= user.birthday || 'N/A' %></td>
                <td>
                  <a href="/users/edit/<%= user.user_id %>" class="action-btn btn-edit">Edit</a>
                  <a href="/users/delete/<%= user.user_id %>" class="action-btn btn-delete" onclick="return confirm('Delete this user?')">Delete</a>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div> <% } %>

    <div class="text-center" style="margin-top: 30px;">
      <a href="/" class="view-btn">Back to Home Page</a>
    </div>
  </main>
</body>
</html>